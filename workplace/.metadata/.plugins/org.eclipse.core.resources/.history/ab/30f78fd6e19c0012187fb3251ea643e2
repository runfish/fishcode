<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
        <title>insertBefore.html</title>
        <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
        <meta http-equiv="description" content="this is my page">
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    </head>
    <body>
        <ul>
            <li id="cq" name="chongqing">
                重庆
            </li>
            <li id="sh" name="shanghai">
                上海
            </li>
            <li id="bj" name="beijing">
                北京
            </li>
        </ul>
    </body>
    <script language="JavaScript">
        // 插入新的节点 <li id="tj" name="tianjin">天津</li> 到<li id="sh" name="shanghai">上海</li>这个节点
        // 如上海节点是最后一个节点插入到该节点的<li id="sh" name="shanghai">上海</li>的后面，
        // 否则插入到该节点的前面
        
        //创建<li id="tj" name="tianjin">天津</li>
        var liElement = document.createElement("li");
        liElement.setAttribute("id", "tj");
        liElement.setAttribute("name", "tianjin");
        var textElement = document.createTextNode("天津");
        liElement.appendChild(textElement);
        
        //    //获取上海节点
        //	  var shElement=document.getElementById("sh");
        //	 
        //	//上海节点的父节点
        //	  var shParentElement=shElement.parentNode;
        //	
        //	//获取上海节点的父节点中的最后一个子节点
        //	  var lastChildParentElement=shParentElement.lastChild;
        //	
        //	//比对上海节点和上海节点的父节点中的最后一个子节点
        //	  if (shElement == lastChildParentElement) {
        //	       //如果是相等，表示上海节点是最后一个节点，此时插入上海节点的后面
        //		   shParentElement.appendChild(liElement); 
        //	   }else{
        //	   	   //如果不相等，表示上海节点不是最后一个节点，此时插入上海节点的前面
        //		   shParentElement.insertBefore(liElement,shElement);
        //	   }
        
        var shElement = document.getElementById("sh");
        var shParent = shElement.parentNode;
		var shParentLastNode = shParent.lastChild;
		
		if(shElement == shParentLastNode){
			shParent.appendChild(liElement);
		}
		else{
			shParent.insertBefore(liElement,shElement);
		}
    </script>
</html>
